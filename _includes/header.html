<header>
  <div class="header-content">
    {% assign lang = page.lang | default: "en" %}
    {% assign t = site.data.i18n[lang] %}
    {% assign home_url = "/" %}
    {% if lang == "es" %}{% assign home_url = "/es/" %}{% endif %}

    <a href="{{ home_url | relative_url }}" class="logo-link">
      <img src="{{ '/images/logo-icon-white.svg' | relative_url }}" alt="{{ site.title }}" class="logo">
      <div class="site-title">
        <span class="title">{{ site.title }}</span>
        <span class="subtitle">{{ site.subtitle }}</span>
      </div>
    </a>

    <nav>
      <a href="{{ home_url | relative_url }}" {% if page.ref == 'home' %}class="active"{% endif %}>{{ t.nav.home }}</a>
      {% assign nav_pages = site.pages | where: "lang", lang | where_exp: "p", "p.nav.order" | sort: "nav.order" %}
      {% for p in nav_pages %}
      <a href="{{ p.url | relative_url }}" {% if page.ref == p.ref %}class="active"{% endif %} {% if p.nav.tooltip %}title="{{ p.nav.tooltip }}"{% endif %}>
        {{ p.nav_title | default: p.title }}
      </a>
      {% endfor %}
    </nav>

    <div class="header-right">
      {% include lang-switcher.html %}
      <button class="menu-toggle" aria-label="Toggle menu">
        <i class="fa-solid fa-bars"></i>
      </button>
    </div>
  </div>
</header>
